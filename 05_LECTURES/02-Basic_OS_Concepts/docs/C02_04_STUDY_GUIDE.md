/* FIȘIER TRADUS ȘI VERIFICAT ÎN LIMBA ROMÂNĂ */

# C02_04_STUDY_GUIDE.md
# Study Guide — Basic OS Concepts

> Operating Systems | ASE Bucharest - CSIE | 2025-2026  
> Week 2 | by Revolvix

---

## Executive Summary

This course covers the fundamental mechanisms of communication between hardware and the OS: interrupts, polling and DMA. Understanding these is essential for courses on processes and I/O.

**Recommended study time**: 2-3 hours  
**Difficulty**: Medium

---

## Essential Concepts

### 1. Interrupts

**Definition**: A signal that causes the CPU to suspend current execution and execute a specific handler.

**Types**:
- **Hardware (asynchronous)**: Generated by external devices (keyboard, disk, network)
- **Software (synchronous)**: Generated by instructions (syscall, exceptions)

**Handling flow**:
```
1. Interrupt arrives
2. CPU automatically saves: PC, flags, registers
3. CPU consults IVT for handler address
4. Handler executes (kernel mode)
5. Handler sends EOI
6. CPU restores saved state
7. Execution continues from where it left off
```

---

### 2. Polling vs Interrupts

| Aspect | Polling | Interrupts |
|--------|---------|------------|
| Mechanism | CPU checks periodically | Device notifies CPU |
| CPU usage | High (busy-wait) | Low (only when needed) |
| Latency | Depends on polling frequency | Depends on priority |
| Complexity | Simple | More complex |
| When to use | Very fast devices, time-critical | Most cases |

---

### 3. DMA (Direct Memory Access)

**Concept**: A dedicated controller that transfers data between I/O and memory without CPU intervention.

**Advantages**:
- CPU free for other tasks
- Faster transfer (dedicated hardware)
- Essential for high-bandwidth devices

**Flow**:
```
1. CPU configures DMA: source, destination, size
2. CPU continues other tasks
3. DMA performs transfer
4. DMA sends interrupt when finished
5. CPU processes data
```

---

## Key Terms

| Term | Definition |
|------|------------|
| **IRQ** | Interrupt Request - hardware line |
| **ISR** | Interrupt Service Routine - handler |
| **IVT** | Interrupt Vector Table - mapping table |
| **NMI** | Non-Maskable Interrupt |
| **EOI** | End Of Interrupt |
| **Top-half** | Fast part of the handler |
| **Bottom-half** | Deferred processing (tasklets, workqueues) |

---

## Self-Assessment

### Level 1
1. What is an interrupt?
2. What is the difference between an interrupt and a trap?
3. What does the IVT contain?

### Level 2
4. Why is polling inefficient for most cases?
5. How does DMA work?
6. What are nested interrupts?

### Level 3
7. Design the priority scheme for a web server.
8. Calculate the overhead of polling vs interrupts for a disk.

---

## Practical Exercises

```bash
# View all IRQs and handlers
cat /proc/interrupts

# Monitor changes in real time
watch -d -n1 'cat /proc/interrupts'

# View DMA channels
cat /proc/dma

# Information about PCI devices and IRQs
lspci -v | grep -i interrupt
```

---

## Common Mistakes

❌ "Interrupts stop the CPU"
✅ Interrupts temporarily suspend the current task

❌ "DMA completely replaces CPU for I/O"
✅ CPU still initiates and finalises the transfer

❌ "Polling is always bad"
✅ For very fast or time-critical devices, polling may be preferable

---

## Additional Resources

- OSTEP: [I/O Devices](https://pages.cs.wisc.edu/~remzi/OSTEP/file-devices.pdf)
- Linux Kernel Documentation: Interrupt handling

---

*Guide updated: January 2026*
