# LLM-Aware Exercises - Seminar 1-2
## Operating Systems | Integrating AI in Learning

**Philosophy**: LLMs are learning tools, not adversaries.  
**Purpose**: Develop the ability to evaluate, correct and improve generated code.

---

## LLM USAGE PRINCIPLES

### What is acceptable to do with LLM:
- Ask for explanations of unclear concepts  
- Generate code that you UNDERSTAND and TEST  
- Ask for alternatives and compare approaches  
- Use as "rubber duck" for debugging  
- Ask to explain terminal errors

### What is NOT acceptable:
- Copy code without understanding it  
- Submit for evaluation without testing  
- Assume the output is always correct  
- Give up on your own thinking

---

## EXERCISE 1: The Alias Evaluator
**Time**: 10 minutes | **Level**: Beginner

### Part A: Generation (3 min)

Send this prompt to ChatGPT/Claude/Gemini:

```
Generate 5 useful Bash aliases for an 
Operating Systems student who frequently works with:
- Directory navigation
- Log viewing
- Process management
- Backups

For each alias, include an explanatory comment.
```

### Part B: Critical Evaluation (5 min)

For **EACH** generated alias, complete the table:

| Alias | Correct Syntax? | Did I test? | Useful for ME? | Potential risk? |
|-------|-----------------|-------------|----------------|-----------------|
|       | Yes / No        | Yes / No    | 1-5            | YES/NO + explanation |
|       |                 |             |                |                 |

### Part C: Refinement (2 min)

Choose ONE alias and improve it:
- Add a useful option
- Make it safer (e.g. add confirmation)
- Personalise it for YOUR workflow

### Deliverable:
```
File: llm_alias_eval.txt

CHOSEN ALIAS: [name]
ORIGINAL VERSION: [what the LLM generated]
IMPROVED VERSION: [what you modified]
RATIONALE: [why it is better]
```

---

## EXERCISE 2: The Script Debugger
**Time**: 12 minutes | **Level**: Intermediate

### Setup

The LLM generated this "functional" backup script:

```bash
#!/bin/bash
# Backup script "generated by AI"

SOURCE=$HOME/Documents
DEST=$HOME/Backup
DATE=`date +%Y%m%d`

# Create backup directory
mkdir $DEST/$DATE

# Copy files
cp -r $SOURCE $DEST/$DATE

# Delete old backups (older than 7 days)
find $DEST -mtime +7 -delete

echo Backup complete!
```

### Task: Find and Fix the Problems

The script has **at least 5 problems**. Find them!

<details>
<summary>Hints (open only if stuck)</summary>

1. What happens if SOURCE has spaces in the name?
2. What happens if DEST does not exist?
3. Is the `date` form with backticks recommended?
4. Is `find -delete` without `-type` safe?
5. Does the echo work as you expect?
6. Does the script check if SOURCE exists?

</details>

### Deliverable:

```
File: backup_debug.txt

PROBLEM 1: [description]
LINE: [number]
FIX: [corrected code]

PROBLEM 2: ...

COMPLETE CORRECTED SCRIPT:
[improved code]
```

### Solution for instructor:

```bash
#!/bin/bash
# CORRECTED backup script

SOURCE="$HOME/Documents"
DEST="$HOME/Backup"
DATE=$(date +%Y%m%d)

# Check that source exists
if [ ! -d "$SOURCE" ]; then
    echo "Error: Source directory does not exist: $SOURCE" >&2
    exit 1
fi

# Create backup directory (with -p for safety)
mkdir -p "$DEST/$DATE"

# Copy files (with quotes for spaces)
cp -r "$SOURCE" "$DEST/$DATE/"

# Delete old backups (directories only, with confirmation)
find "$DEST" -maxdepth 1 -type d -mtime +7 -exec rm -rf {} \;

echo "Backup complete: $DEST/$DATE"
```

---

## EXERCISE 3: Generation and Reverse Learning
**Time**: 15 minutes | **Level**: Intermediate

### Concept: Learning by Teaching

You will ask the LLM to generate code, then you will **teach** your colleague what it does.

### Part A: Generation

Prompt:
```
Write a Bash one-liner that:
1. Finds all .log files in /var/log
2. Sorts them by size
3. Displays the top 5 largest
4. Includes size in human-readable format

Use pipes and standard Linux commands.
```

### Part B: Decomposition

**BEFORE running**, break down the one-liner:

```
COMMAND: [the complete one-liner]

PART 1: [what the first command does]
PART 2: [what the second command in the pipe does]
PART 3: ...

DATA FLOW: 
Input -> [transformation 1] -> [transformation 2] -> Output
```

### Part C: Teaching

Explain to your colleague:
1. What each part does
2. Why they are in this order
3. What would happen if you changed the order

### Part D: Experimentation

Modify the one-liner to:
- Search subdirectories as well
- Exclude files smaller than 1KB
- Save the result to a file

### Deliverable:
```
File: oneliner_explained.txt

ORIGINAL ONE-LINER: [code]

EXPLANATION:
[each part explained]

MY MODIFICATION:
[your improved version + why]
```

---

## EXERCISE 4: Code Review for AI
**Time**: 10 minutes | **Level**: Advanced

### The Scenario

You are a senior developer and need to do code review for a "junior developer" (LLM).

### Task

Ask the LLM:
```
Write a Bash script for system resource monitoring that:
1. Displays CPU usage
2. Displays memory usage
3. Displays disk space
4. Updates every 5 seconds
5. Stops gracefully on Ctrl+C
```

### Code Review Checklist

Evaluate the script on these criteria:

| Criterion | Score (1-5) | Comments |
|-----------|-------------|----------|
| **Correctness**: Does it work? |  |  |
| **Portability**: Works on any Linux? |  |  |
| **Readability**: Is it clear what it does? |  |  |
| **Stability**: Does it handle errors? |  |  |
| **Efficiency**: Is it optimal? |  |  |
| **Safety**: Are there risks? |  |  |
| **Style**: Follows best practices? |  |  |

### Constructive Feedback

Write feedback as if for a junior colleague:

```
POSITIVE ASPECTS:
- 
- 

TO IMPROVE:
- 
- 

CONCRETE SUGGESTIONS:
- 
- 
```

---

## EXERCISE 5: Security Challenge
**Time**: 12 minutes | **Level**: Advanced

### The Scenario

LLMs can generate insecure code. Identify the vulnerabilities!

### Code "generated by AI":

```bash
#!/bin/bash
# User input processing script

echo "Enter the filename to process:"
read filename

# Process the file
cat $filename | grep "important" > results.txt

# Delete temporary files
rm -rf /tmp/$filename*

# Execute a command from the file
eval $(cat $filename | head -1)

echo "Processing complete!"
```

### Task: Security Audit

Find **all** vulnerabilities:

| # | Line | Vulnerability | Risk | How it could be exploited |
|---|------|---------------|------|---------------------------|
| 1 |      |               | Critical/High/Medium |  |
| 2 |      |               |      |  |
| ... |    |               |      |  |

### Rewrite Securely

Create the secured version that:
- Validates input
- Uses correct quoting
- Eliminates `eval`
- Restricts paths

---

## REFLECTION TEMPLATE

At the end of each LLM exercise, complete:

```
===================================================================
REFLECTION: [Exercise name]
===================================================================

1. WHAT I LEARNED ABOUT LLM-GENERATED CODE:
   _________________________________________________

2. WHAT ERROR THE LLM MADE (if applicable):
   _________________________________________________

3. HOW I IDENTIFIED THE PROBLEM:
   _________________________________________________

4. HOW I WOULD USE THE LLM MORE EFFECTIVELY NEXT TIME:
   _________________________________________________

5. WHAT QUESTION I WOULD ASK DIFFERENTLY:
   _________________________________________________
===================================================================
```

---

## COMPETENCIES DEVELOPED

Through these exercises, you develop:

| Competency | Bloom Level | Indicator |
|------------|-------------|-----------|
| External code evaluation | Evaluate | Identify 80%+ of problems |
| Systematic debugging | Analyse | Follow a process, do not guess |
| Technical communication | Create | Explain clearly to colleagues |
| Critical thinking | Analyse | Do not accept code without questions |
| Basic security | Apply | Recognise risky patterns |

---

## USEFUL PROMPTS FOR LEARNING

### For explanations:
```
Explain step by step what this Bash command does:
[command]
Assume I am a beginner and do not know [concept].
```

### For alternatives:
```
Give me 3 different ways to [task] in Bash.
For each, explain when it is more appropriate.
```

### For debugging:
```
I get this error when running [command]:
[error]
What could be wrong and how do I check?
```

### For best practices:
```
I wrote this script:
[code]
What would a senior developer do differently?
```

---

*LLM-Aware Exercises | OS Seminar 1-2 | ASE-CSIE*
*Version 2.0 | January 2025*
